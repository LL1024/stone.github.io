## Oracle 11g数据库安装过程记录
今天在电脑上安装了Oracle 11g以及其集成开发环境PLSQL，颇经历了一番波折，所以想记录一下这个过程。

### Oracle安装
Oracle在安装有两个选项，第一个选项是创建和配置数据库，第二个选项是仅安装数据库软件。一般为了省事都会直接选择第一个创建和配置数据库，可以一次性将安装数据库软件、创建数据库和设置监听的工作都完成。我第一次安装的时候也选了这个选项，但是安装到最后除了一个未知错误，安装过程无法进行，这时因为是一次完成三个过程，也分不清是哪个过程出了问题。所以只能将装的半成品卸载干净，然后使用第二种方法，将安装数据库软件、创建数据库和设置监听的过程分别进行。

```
1. 数据库软件的安装。这个过程网上教程很多，需要注意的地方就是在选择安装选项时要选择“仅安装数据库软件”，其他部分的选择网上教程很多。

2. 创建数据库。以管理员身份运行cmd，输入DBCA(DataBase CreAte)，即可进入数据库创建界面，需要注意的一个地方是取消选取Enterprise Manager，勾选这个选项会增加很多配置的工作，而且涉及到的功能我们也用不到。

3. 创建好数据库之后，同样在cmd下运行netca，配置监听程序。一路都是正常配置，网上教程也特别多。
```
之后再下载安装Oracle的集成开发环境PLSQL即可开始Oracle数据库的开发。

### 安装过程错误记录
其实这些流水线操作花费的时间并不是很多，在整个安装的过程中花费时间最多的是对报错的处理。这次安装我主要碰到了这几种错误。
```
1. ORA-12170：连接超时
2. ORA-12154：无法解析指定的连接标识符
3. ORA-12541:无监听程序
```
### 解决方法
这几个问题由于是重复交替出现，我在这里只记录我从出错到错误解决分别修改了哪些地方、使用了哪些方法。解决问题的思路来源主要是在网上查阅的资料以及与配置成功的Oracle的一些重要的配置文件做对比。
```
1. 贴几个比较重要的文件：
  F:\Oracle\product\11.2.0\dbhome_1\NETWORK\ADMIN文件夹下的listener.ora,sqlnet.ora,tnsnames.ora。
  对这三个文件的修改都需要先修改对文件的访问权限。
2. 几个可能有用的修改方法：打开net manager,对本地-监听程序-listener进行配置，修改（如果没有，就添加）协议为TCP/IP的主机为自己计算机的主机名或者127.0.0.1，端口保持默认端口1521.
  打开net configuration assistant配置监听程序，或者将现有监听程序删除重新配置，或进行本地网络服务名配置。
  若是对监听程序的配置做了修改，需要重启tnslistener服务，在控制面板中（或应用搜索）找到查看本地服务，或者win+r运行services.msc，找到Oracle服务的tnslistener服务，就可以进行启动、停止或者重新启动。
3. 最后想贴一下我的那三个比较重要的配置文件内容。
listener.ora：
# listener.ora Network Configuration File: F:\Oracle\product\11.2.0\dbhome_1\network\admin\listener.ora
# Generated by Oracle configuration tools.

SID_LIST_LISTENER =
  (SID_LIST =
    (SID_DESC =
      (SID_NAME = ORCL)
      (ORACLE_HOME = F:\Oracle\product\11.2.0\dbhome_1)
     # (PROGRAM = extproc)
      (ENVS = "EXTPROC_DLLS=ONLY:F:\Oracle\product\11.2.0\dbhome_1\bin\oraclr11.dll")
    )
      )

LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = TCP)(HOST = 127.0.0.1)(PORT = 1521))
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))
    )
  )

ADR_BASE_LISTENER = F:\Oracle

注：我在改好所有配置之前的最后一个操作是将# (PROGRAM = extproc)这一行注释掉（也就是前面添加的#）。不过我相信前面的配置一定都在为错误的排查做铺垫~我才不信花了那么多功夫做的配置是白做的！

sqlnet.ora:
# This file is actually generated by netca. But if customers choose to 
# install "Software Only", this file wont exist and without the native 
# authentication, they will not be able to connect to the database on NT.

SQLNET.AUTHENTICATION_SERVICES = (NTS)
NAMES.DIRECTORY_PATH= (TNSNAMES, EZCONNECT)

tnsnames.ora:
# tnsnames.ora Network Configuration File: F:\Oracle\product\11.2.0\dbhome_1\network\admin\tnsnames.ora
# Generated by Oracle configuration tools.

ORACLR_CONNECTION_DATA =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = TCP)(HOST = 127.0.0.1)(PORT = 1521))
    )
    (CONNECT_DATA =
      (SERVICE_NAME = orcl)
    )
  )

```



### Oracle的卸载
Oracle完全卸载的过程还是要费一些周折的，主要是有关Oracle的文件，注册表和环境变量三个部分，并不是简单的点击卸载，或者删除了所有文件就可以的，而且卸载不干净重装会出问题。[此处](http://blog.csdn.net/machinecat0898/article/details/7792471)放一个我参考的卸载Oracle要删动的地方的博客，写的很全面详细。

